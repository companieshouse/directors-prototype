{% set title = "Where does the director live?" %}
{% extends "layout.html" %}
{% block pageTitle %}
  {{title}}
  -
  {{serviceName}}
  - GOV.UK
{% endblock %}
{% block beforeContent %}
  {{ govukBackLink({
  text: "Back",
  href: "javascript:history.back()"
}) }}
{% endblock %}
{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds-from-desktop">
      <form action="/address-lookup/home-address" method="post">
        {# Get the registered office address #}
        {% set roAddress %}
          {% if company.registered_office_address.address_line_1 %}
            {{company.registered_office_address.address_line_1}},
          {% endif %}
          {% if company.registered_office_address.address_line_2 %}
            {{company.registered_office_address.address_line_2}},
          {% endif %}
          {% if company.registered_office_address.region %}
            {{company.registered_office_address.region}},
          {% endif %}
          {% if company.registered_office_address.locality %}
            {{company.registered_office_address.locality}},
          {% endif %}
          {% if company.registered_office_address.postal_code %}
            {{company.registered_office_address.postal_code}}
          {% endif %}
        {% endset -%}
        {# Radio options to select the home address #}
        {# If condition to see if the correspondence address is the same as the RO #}
        {% if (data['correspondence-address'] === "registered-office-address")%}

          {{ govukRadios({
            idPrefix: "home-address",
            name: "home-address",
            hint: {
              text: "Tell us the director's home address. Only give a business address if they also live there."
            },
            fieldset: {
              legend: {
                text: title,
                isPageHeading: true,
                classes: "govuk-fieldset__legend--l"
              }
            },
            items: [
              {
                value: "registered-office-address",
                html: roAddress
              },
              {
                value: "different-address",
                text: "A different address"
              }
            ]
          }) }}
        {# If not then show the RO, correspondence and a different address options #}
        {% else %}
          {{ govukRadios({
            idPrefix: "home-address",
            name: "home-address",
            hint: {
              text: "Tell us the director's home address. Only give a business address if they also live there."
            },
            fieldset: {
              legend: {
                text: title,
                isPageHeading: true,
                classes: "govuk-fieldset__legend--l"
              }
            },
            items: [
              {
                value: "registered-office-address",
                html: roAddress
              },
              {
                value: "correspodence-address",
                html: "Stornoway House, 13 Cleveland Row, London, SW1A 1GG"
              },
              {
                value: "different-address",
                text: "A different address"
              }
            ]
          }) }}

        {% endif %}
        {# What information will be on the register #}
        <h2 class="govuk-heading-m govuk-!-margin-top-9">What information is shown on the online register</h2>
        <p class="govuk-body">This address will not be publicly available on the Companies House online register, unless it's also used for the company's registered office address or the director's correspondence address.</p>
        {{ govukButton({
          text: "Continue"
        }) }}
      </form>
    </div>
  </div>
{% endblock %}